<!doctype html><html><head><title>PEP 8 – Design für Vererbung</title><meta charset=utf-8><meta name=X-UA-Compatible content="IE=edge"><meta name=google-site-verification content><meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0" name=viewport><meta content="telephone=no" name=format-detection><meta name=description content><meta name=renderer content="webkit"><meta name=theme-color content="#ffffff"><link type=text/css rel=stylesheet href=/vendor/css/bootstrap.min.css><link rel=icon href=https://zrezai-dev.de/img/favicon/favicon.ico><link rel=stylesheet href=https://zrezai-dev.de/scss/journal.min.01b85e0898a781aa780fafeefde8fd126632f5d81889a52aa954a99e5939c759.css integrity="sha256-AbheCJingap4D6/u/ej9EmYy9dgYiaUqqVSpnlk5x1k=" media=screen><link rel=stylesheet href=https://zrezai-dev.de/scss/dark-mode.min.6a0abf23afa30e2c8d048f453f940b7c9a5afae3ed578c66f5169bdf63eb2487.css integrity="sha256-agq/I6+jDiyNBI9FP5QLfJpa+uPtV4xm9Rab32PrJIc=" media=screen><script src=/vendor/js/loadCSS.js></script><script>loadCSS("https://fonts.googleapis.com/css?family=Fira+Mono|Material+Icons");</script><script src=/js/toc.js></script><link rel=stylesheet type=text/css href=css/cookieconsent.min.css></head><body><div id=app><div id=sideContainer class=side-container><a class="a-block nav-head false" href=https://zrezai-dev.de/><div class=nav-title>Zadjad Rezai.</div><div class=nav-subtitle>DevOps.</div></a><div class=nav-link-list><a class="a-block nav-link-item false" href=/freelancing>Freelancing</a>
<a class="a-block nav-link-item false" href=/categories>Kategorien</a>
<a class="a-block nav-link-item false" href=/tags>Tags</a>
<a class="a-block nav-link-item false" href=/posts>Archiv</a>
<a class="a-block nav-link-item false" href=/index.xml>RSS Feed</a>
<a class="a-block nav-link-item false" href=/datenschutz>Datenschutz</a>
<a class="a-block nav-link-item false" href=/impressum>Impressum</a></div><div class=nav-footer>Hugo Theme <a href=https://github.com/amazingrise/hugo-theme-diary>Diary</a> von <a href=https://amazingrise.net>Rise</a> ❤️<br>Adaptiert von <a href=https://mak1t0.cc/ target=_blank rel="noreferrer noopener">Makito</a>'s <a href=https://github.com/SumiMakito/hexo-theme-journal/ target=_blank rel="noreferrer noopener">Journal.</a><br><br><div style=font-size:20px><a style=margin:2px href=https://github.com/Xcalizorz target=_blank rel="noreferrer noopener" class="fa fa-github"></a><a style=margin:2px href=https://www.linkedin.com/in/zadjad-rezai/ target=_blank rel="noreferrer noopener" class="fa fa-linkedin"></a><a style=margin:2px href=https://www.xing.com/profile/Zadjad_Rezai/ target=_blank rel="noreferrer noopener" class="fa fa-xing"></a></div>&copy;
2022 Zadjad Rezai.
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css></div></div><div id=extraContainer class=extra-container><div class="toc animated-visibility" :class="{ invisible: scrollY <= 140 }"></div><div class=pagination><a id=globalBackToTop class="pagination-action animated-visibility" href=#top :class="{ invisible: scrollY == 0 }"><i class="material-icons pagination-action-icon">keyboard_arrow_up</i></a>
<a type=button class=pagination-action id=darkModeToggleButton><span class="material-icons pagination-action-icon" id=darkModeToggleIcon>dark_mode</span></a></div></div><div class=single-column-drawer-container id=drawer v-bind:class="{ 'single-column-drawer-container-active': isDrawerOpen }"><div class=drawer-content><div class=drawer-menu><a class="a-block drawer-menu-item false" href=/freelancing>Freelancing</a>
<a class="a-block drawer-menu-item false" href=/categories>Kategorien</a>
<a class="a-block drawer-menu-item false" href=/tags>Tags</a>
<a class="a-block drawer-menu-item false" href=/posts>Archiv</a>
<a class="a-block drawer-menu-item false" href=/index.xml>RSS Feed</a>
<a class="a-block drawer-menu-item false" href=/datenschutz>Datenschutz</a>
<a class="a-block drawer-menu-item false" href=/impressum>Impressum</a><div class=toc></div></div></div></div><transition name=fade><div id=drawer-mask v-bind:class="{ 'single-column-drawer-mask': mounted }" v-if=isDrawerOpen v-on:click=toggleDrawer></div></transition><nav id=navBar class="navbar sticky-top navbar-light single-column-nav-container"><div id=navBackground class=nav-background></div><div class="container container-narrow nav-content"><button id=nav_dropdown_btn class=nav-dropdown-toggle type=button v-on:click=toggleDrawer>
<i class=material-icons>menu</i></button>
<a id=navTitle class=navbar-brand href=https://zrezai-dev.de/>Zadjad Rezai.</a>
<button type=button class=nav-darkmode-toggle id=darkModeToggleButton2>
<i class=material-icons id=darkModeToggleIcon2>dark_mode</i></button></div></nav><div class=single-column-header-container id=pageHead v-bind:style="{ transform: 'translateZ(0px) translateY('+.3*scrollY+'px)', opacity: 1-navOpacity }"><a href=https://zrezai-dev.de/><div class=single-column-header-title>Zadjad Rezai.</div><div class=single-column-header-subtitle>DevOps.</div></a></div><div id=content><div id=streamContainer class=stream-container><div class="post-list-container post-list-container-shadow"><div class=post><div class=post-head-wrapper style=background-image:url(https://zrezai-dev.de/img/Python.webp)><div class=post-title>PEP 8 – Design für Vererbung<div class=post-meta><time itemprop=datePublished>15.02.2019 11:19</time>
<i class=material-icons>folder</i>
<a href=/categories/>[PEP]</a>
&nbsp;
<i class=material-icons>label</i>
<a href=/tags/design>design</a>
&nbsp;
<a href=/tags/pep-8>pep-8</a>
&nbsp;
<a href=/tags/vererbung>vererbung</a>
&nbsp;
<i class=material-icons>schedule</i>
4 min
31 s.</div></div></div><div class=post-body-wrapper><div class=post-body v-pre><p>Das ist die Fortführung des ersten Posts über <a href=https://zrezai-dev.de/python/pep-8/>PEP 8</a>.</p><p>Diesmal geht es ausschließlich um einen generellen Designvorschlag, um ein gut geschriebenes Programm veröffentlichen zu können.</p><p>Im Kontext von <a href=https://www.python.org/dev/peps/pep-0008>PEP 8</a>, ist dieser Beitrag unter <em><a href=https://www.python.org/dev/peps/pep-0008/#designing-for-inheritance>Design for Inheritance</a></em> zu finden.</p><p>Ab jetzt werden die Posts im Allgemeinen kürzer, damit man diese leichter verarbeiten kann.</p><p>Entscheidet immer, ob die Methoden und Instanzvariablen einer Klasse (zusammenfassend: „Attribute“) öffentlich oder nicht öffentlich sein sollen. Im Zweifelsfall wählt man non-public; es ist einfacher, es später öffentlich zu machen, als ein öffentliches Attribut non-public zu machen.</p><p>Öffentliche Attribute sind diejenigen, von denen man erwartet, dass sie von unabhängigen Clients der Klasse verwendet werden, mit der Verpflichtung, inkompatible Änderungen rückwärts zu vermeiden. Nicht-öffentliche Attribute sind solche, die nicht für die Verwendung durch Dritte bestimmt sind; Sie übernehmen keine Garantie dafür, dass nicht-öffentliche Attribute nicht verändert oder gar entfernt werden.</p><p>Wir verwenden hier nicht den Begriff „privat“, da in Python kein Attribut wirklich privat ist (ohne erhöhten Arbeitsaufwand).</p><p>Eine weitere Kategorie von Attributen sind diejenigen, die Teil der „Subklassen-API“ sind (in anderen Sprachen oft als „geschützt“ bezeichnet). Einige Klassen sind so konzipiert, dass sie vererbt werden können, um Aspekte des Verhaltens der Klasse zu erweitern oder zu modifizieren. Beim Design einer solchen Klasse ist darauf zu achten, dass explizit entschieden wird, welche Attribute öffentlich sind, die Teil der Unterklassen-API sind und wirklich nur von Ihrer Basisklasse verwendet werden dürfen.</p><p>In diesem Sinne sind hier die pythonischen Richtlinien:</p><ul><li>Öffentliche Attribute sollten keine führenden Unterstriche enthalten.</li><li>Wenn der öffentliche Attributname mit einem reservierten Schlüsselwort kollidiert, hänge einen einzelnen nachlaufenden Unterstrich an deinen Attributnamen an. Dies ist einer Abkürzung oder fehlerhaften Schreibweise vorzuziehen. (Ungeachtet dieser Regel ist „cls“ jedoch die bevorzugte Schreibweise für jede Variable oder jedes Argument, von dem bekannt ist, dass es sich um eine Klasse handelt, insbesondere für das erste Argument einer Klassenmethode.)<ul><li>Hinweis 1: Siehe die Empfehlung für <a href=https://zrezai-dev.de/python/pep-8/#klassennamen>Argumentnamen für Klassenmethoden</a>.</li></ul></li><li>Für einfache öffentliche Datenattribute ist es am besten, nur den Attributnamen ohne komplizierte Accessor/Mutator-Methoden zu verwenden. Denke daran, dass Python einen einfachen Weg zur zukünftigen Verbesserung bietet, falls du feststellst, dass ein einfaches Datenattribut benötigt wird, um das Funktionsverhalten zu verbessern. In diesem Fall solltest du Eigenschaften verwenden, um die funktionale Implementierung hinter einer einfachen Syntax für den Zugriff auf Datenattribute zu verstecken.<ul><li>Hinweis 1: Eigenschaften funktionieren nur bei Klassen mit neuem Stil.</li><li>Hinweis 2: Es ist zu versuchen, die Nebenwirkungen des Funktionsverhaltens frei zu halten, obwohl Nebenwirkungen wie das Caching im Allgemeinen in Ordnung sind.</li><li>Hinweis 3: Vermeidung der Verwendung von Eigenschaften für rechenintensive Operationen; die Attributnotation lässt den Aufrufer glauben, dass der Zugriff (relativ) billig ist.</li></ul></li><li>Wenn die Klasse für die Unterklasse vorgesehen ist und Attribute hat, die nicht von Unterklassen verwendet werden sollen, sollten solche mit doppelten führenden Unterstrichen und ohne nachgestellte Unterstriche benannt werden. Dies ruft Pythons Mechanismus zur Namenszerlegung auf, bei dem der Name der Klasse in den Attributnamen zerlegt wird. Dies hilft, Kollisionen von Attributnamen zu vermeiden, falls Unterklassen versehentlich Attribute mit dem gleichen Namen enthalten.<ul><li>Hinweis 1: Es wird nur der einfache Klassenname im manipulierten Namen verwendet, so dass man, wenn eine Unterklasse sowohl den gleichen Klassennamen als auch den gleichen Attributnamen wählt, trotzdem Namenskollisionen erhalten kann.</li><li>Hinweis 2: Das Verwalten von Namen kann bestimmte Verwendungen, wie Debugging und <code>getattr()</code>, weniger komfortabel machen. Der Algorithmus zur Namensverzerrung ist jedoch gut dokumentiert und manuell leicht durchführbar.</li><li>Hinweis 3: Nicht jeder mag es, Namen zu verfälschen. Versucht, die Notwendigkeit, versehentliche Namenskonflikte zu vermeiden, mit der möglichen Nutzung durch fortgeschrittene Anwender in Einklang zu bringen.</li></ul></li></ul><hr width=100% id=EOF><p style=color:#777>Zuletzt bearbeitet am 15.02.2019</p></div></div><nav class=post-pagination><a class=newer-posts href=https://zrezai-dev.de/python/walrus-operator/>Nächste<br>Der Walrus-Operator (Python 3.8)</a>
<a class=older-posts href=https://zrezai-dev.de/python/pep-8/>Vorherige<br>PEP 8 – Die Schönheit von Python</a></nav><div class=post-comment-wrapper></div></div></div></div></div><div id=single-column-footer>Hugo Theme <a href=https://github.com/amazingrise/hugo-theme-diary>Diary</a> von <a href=https://amazingrise.net>Rise</a> ❤️<br>Adaptiert von <a href=https://mak1t0.cc/ target=_blank rel="noreferrer noopener">Makito</a>'s <a href=https://github.com/SumiMakito/hexo-theme-journal/ target=_blank rel="noreferrer noopener">Journal.</a><br><br><div style=font-size:20px><a style=margin:2px href=https://github.com/Xcalizorz target=_blank rel="noreferrer noopener" class="fa fa-github"></a><a style=margin:2px href=https://www.linkedin.com/in/zadjad-rezai/ target=_blank rel="noreferrer noopener" class="fa fa-linkedin"></a><a style=margin:2px href=https://www.xing.com/profile/Zadjad_Rezai/ target=_blank rel="noreferrer noopener" class="fa fa-xing"></a></div>&copy;
2022 Zadjad Rezai.
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css></div></div><script src=js/cookieconsent.min.js></script><script>window.cookieconsent.initialise({"palette":{"popup":{"background":"#237afc"},"button":{"background":"transparent","text":"#fff","border":"#fff"}},"content":{"message":"Diese Website verwendet Cookies, um Ihnen eine bestmögliche Nutzung zu gewährleisten.","dismiss":"Verstanden","link":"Weitere Informationen","href":"https://zrezai-dev.de/datenschutz/"}});</script><script src=/js/journal.js></script></body></html>