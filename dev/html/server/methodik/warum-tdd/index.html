<!doctype html><html><head><title>Warum Test-Driven Development</title><meta charset=utf-8><meta name=X-UA-Compatible content="IE=edge"><meta name=google-site-verification content><meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0" name=viewport><meta content="telephone=no" name=format-detection><meta name=description content><meta name=renderer content="webkit"><meta name=theme-color content="#ffffff"><link type=text/css rel=stylesheet href=/vendor/css/bootstrap.min.css><link rel=icon href=https://zrezai-dev.de/img/favicon/favicon.ico><link rel=stylesheet href=https://zrezai-dev.de/scss/journal.min.01b85e0898a781aa780fafeefde8fd126632f5d81889a52aa954a99e5939c759.css integrity="sha256-AbheCJingap4D6/u/ej9EmYy9dgYiaUqqVSpnlk5x1k=" media=screen><link rel=stylesheet href=https://zrezai-dev.de/scss/dark-mode.min.6a0abf23afa30e2c8d048f453f940b7c9a5afae3ed578c66f5169bdf63eb2487.css integrity="sha256-agq/I6+jDiyNBI9FP5QLfJpa+uPtV4xm9Rab32PrJIc=" media=screen><script src=/vendor/js/loadCSS.js></script><script>loadCSS("https://fonts.googleapis.com/css?family=Fira+Mono|Material+Icons");</script><script src=/js/toc.js></script><link rel=stylesheet type=text/css href=css/cookieconsent.min.css></head><body><div id=app><div id=sideContainer class=side-container><a class="a-block nav-head false" href=https://zrezai-dev.de/><div class=nav-title>Zadjad Rezai.</div><div class=nav-subtitle>DevOps.</div></a><div class=nav-link-list><a class="a-block nav-link-item false" href=/freelancing>Freelancing</a>
<a class="a-block nav-link-item false" href=/categories>Kategorien</a>
<a class="a-block nav-link-item false" href=/tags>Tags</a>
<a class="a-block nav-link-item false" href=/posts>Archiv</a>
<a class="a-block nav-link-item false" href=/index.xml>RSS Feed</a>
<a class="a-block nav-link-item false" href=/datenschutz>Datenschutz</a>
<a class="a-block nav-link-item false" href=/impressum>Impressum</a></div><div class=nav-footer>Hugo Theme <a href=https://github.com/amazingrise/hugo-theme-diary>Diary</a> von <a href=https://amazingrise.net>Rise</a> ❤️<br>Adaptiert von <a href=https://mak1t0.cc/ target=_blank rel="noreferrer noopener">Makito</a>'s <a href=https://github.com/SumiMakito/hexo-theme-journal/ target=_blank rel="noreferrer noopener">Journal.</a><br><br><div style=font-size:20px><a style=margin:2px href=https://github.com/Xcalizorz target=_blank rel="noreferrer noopener" class="fa fa-github"></a><a style=margin:2px href=https://www.linkedin.com/in/zadjad-rezai/ target=_blank rel="noreferrer noopener" class="fa fa-linkedin"></a><a style=margin:2px href=https://www.xing.com/profile/Zadjad_Rezai/ target=_blank rel="noreferrer noopener" class="fa fa-xing"></a></div>&copy;
2022 Zadjad Rezai.
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css></div></div><div id=extraContainer class=extra-container><div class="toc animated-visibility" :class="{ invisible: scrollY <= 140 }"></div><div class=pagination><a id=globalBackToTop class="pagination-action animated-visibility" href=#top :class="{ invisible: scrollY == 0 }"><i class="material-icons pagination-action-icon">keyboard_arrow_up</i></a>
<a type=button class=pagination-action id=darkModeToggleButton><span class="material-icons pagination-action-icon" id=darkModeToggleIcon>dark_mode</span></a></div></div><div class=single-column-drawer-container id=drawer v-bind:class="{ 'single-column-drawer-container-active': isDrawerOpen }"><div class=drawer-content><div class=drawer-menu><a class="a-block drawer-menu-item false" href=/freelancing>Freelancing</a>
<a class="a-block drawer-menu-item false" href=/categories>Kategorien</a>
<a class="a-block drawer-menu-item false" href=/tags>Tags</a>
<a class="a-block drawer-menu-item false" href=/posts>Archiv</a>
<a class="a-block drawer-menu-item false" href=/index.xml>RSS Feed</a>
<a class="a-block drawer-menu-item false" href=/datenschutz>Datenschutz</a>
<a class="a-block drawer-menu-item false" href=/impressum>Impressum</a><div class=toc></div></div></div></div><transition name=fade><div id=drawer-mask v-bind:class="{ 'single-column-drawer-mask': mounted }" v-if=isDrawerOpen v-on:click=toggleDrawer></div></transition><nav id=navBar class="navbar sticky-top navbar-light single-column-nav-container"><div id=navBackground class=nav-background></div><div class="container container-narrow nav-content"><button id=nav_dropdown_btn class=nav-dropdown-toggle type=button v-on:click=toggleDrawer>
<i class=material-icons>menu</i></button>
<a id=navTitle class=navbar-brand href=https://zrezai-dev.de/>Zadjad Rezai.</a>
<button type=button class=nav-darkmode-toggle id=darkModeToggleButton2>
<i class=material-icons id=darkModeToggleIcon2>dark_mode</i></button></div></nav><div class=single-column-header-container id=pageHead v-bind:style="{ transform: 'translateZ(0px) translateY('+.3*scrollY+'px)', opacity: 1-navOpacity }"><a href=https://zrezai-dev.de/><div class=single-column-header-title>Zadjad Rezai.</div><div class=single-column-header-subtitle>DevOps.</div></a></div><div id=content><div id=streamContainer class=stream-container><div class="post-list-container post-list-container-shadow"><div class=post><div class=post-head-wrapper style=background-image:url(https://i.giphy.com/media/JIX9t2j0ZTN9S/giphy.webp)><div class=post-title>Warum Test-Driven Development<div class=post-meta><time itemprop=datePublished>17.12.2019 10:48</time>
<i class=material-icons>folder</i>
<a href=/categories/>[Methodik]</a>
&nbsp;
<i class=material-icons>label</i>
<a href=/tags/microservice>microservice</a>
&nbsp;
<a href=/tags/tdd>tdd</a>
&nbsp;
<i class=material-icons>schedule</i>
8 min
2 s.</div></div></div><div class=post-body-wrapper><div class=post-body v-pre><p>Im Leben kommt man immer irgendwann an einen Punkt an, an dem man sich denkt: Wie kann ich mich verbessern?</p><p>Unser Leben kann teilweise mit einer Zusammensetzung vieler Microservices verglichen werden, auf die ich voraussichtlich in einem anderen Post eingehen werde. In (sehr) kurz; ein Microservice ist wie der Name schon sagt ein <em>kleiner</em> (Definitionssache) Service, der unabhängig vom Rest funktioniert. Ein kleines Beispiel; ein Baum funktioniert auch, wenn kein Mensch damit interagiert, obwohl wir alle Teil unseres komplexen Ökosystems sind. Der Mensch nutzt den <em>Service</em>, den ein Baum bietet indirekt. Jeder Baum <a rel="noreferrer noopener" aria-label="(öffnet in neuem Tab)" href=https://de.wikipedia.org/wiki/Photosynthese target=_blank>interagiert mit unserer Atmosphäre</a>, indem CO<sub>2</sub> aufgenommen und O<sub>2</sub> ausgegeben wird. Wir Menschen und die Pflanzenwelt nutzen unter anderem die Atmosphäre als Interface, um miteinander zu kommunizieren.</p><p>Natürlich ist die Welt bei weitem nicht so simple, aber das sollte nur als kleiner Anreiz zum Nachdenken dienen – das komplexe Zusammenspiel aus Objekten in unserer Umgebung ist um einiges vielschichtiger.</p><p>Es geht doch hier um <a rel="noreferrer noopener" aria-label="(öffnet in neuem Tab)" href=https://en.wikipedia.org/wiki/Test-driven_development target=_blank>Test-Driven Development</a>, warum reden wir über Bäume?</p><p>Eine simple Antwort wäre: Dinge, die von einem fehlerhaften Objekt geplant werden, können selbst auch nur fehlerhaft sein. Ein Mensch, der niemals perfekt ist, kann keine perfekte Sache produzieren. Jedoch kann ein Mensch sicher gehen, dass Software, die man ausliefert, den Anforderungen entspricht. Den Anforderungen zu entsprechen, ist mein persönlich höhstes Software-Gebot – niemals darf mehr oder weniger gemacht werden, als verlangt.</p><p>Stellen wir uns mal kurz vor; Wir sollen ein Programm für eine Bank schreiben. Diese Bank möchte ihre Daten aus einer alten Datenbankstruktur migrieren und wir sollen diese Migration möglich machen. Was könnte passieren, wenn wir nicht gut genug testen?</p><p><a rel="noreferrer noopener" aria-label="(öffnet in neuem Tab)" href=https://increment.com/testing/what-broke-the-bank/ target=_blank>increment.com</a> hat in ihrer 10. Ausgabe einen interessanten Artikel über genau dieses Problem geschrieben. Eine Bank stand genau vor dieser Aufgabe und hat <strong>2500 Personen Jahre</strong> investiert, um dann auf die Nase zu fallen. Die Daten waren nach der Migration korrupt und Kunden haben nach ihrem Einkauf fehlerhafte Einträge bemerkt, beim Online-Login ist man nach dem erfolgreichen Login in den Account fremder Personen gekommen und vieles mehr – definitiv lesenswert.</p><p>Von Experten wird angenommen, dass dieses Problem entstanden ist, weil man nicht genug getestet hat. Sicher war es auch nicht wirklich passend alle Datensätze auf einmal migrieren zu wollen. Viele IT-Giganten migrieren immer nur schrittweise – diese IT-Giganten haben aber auch oft mehr Expertise in diesen Bereichen oder treffen auf mehr Verständnis bei der Zeitplanung als IT-Teams aus dem Finanzsektor. Dieses Beispiel wird wohl noch lange Zeit als Anekdote genutzt, um schrittweise große Transformationen zu begründen.</p><p>Sobald man einen Software-Kraken in die Welt gesetzt hat, muss man ihn auch bändigen. Viele verschiedene Module, Microservices und vielleicht sogar verschiedene Programmiersprachen innerhalb eines solchen Projekts, machen die Aufgabe natürlich nicht leichter & <strong><em>„schreib doch Tests“</em></strong> ist nicht und kann nicht die Antwort auf alle Probleme sein. Wenn ein riesiges Programm schon geschrieben ist, wird es außerdem unglaublich schwer im nachhinein hinreichend Tests zu schreiben.</p><p><a rel="noreferrer noopener" aria-label="(öffnet in neuem Tab)" href=https://zrezai-dev.de/methodik/qualitatives-pair-programming/ target=_blank>Pair Programming</a> in Kombination mit zur Aufgabe passenden Management-Methoden wie z. B. <a rel="noreferrer noopener" aria-label="(öffnet in neuem Tab)" href=https://en.wikipedia.org/wiki/Agile_software_development target=_blank>agilen </a>Herangehensweisen, ständige Förderung und Weiterbildung des Kollegiums & vieles mehr, sind wichtige Bestandteile einer funktionierenden und prosperierenden IT-Umgebung.</p><p><mark>Da TDD ein Baustein zu guter Software ist, sollten wir darüber sprechen.</mark></p><p>Glücklicherweise ist es oft so, dass der <em>Name</em> schon preisgibt worum es genau geht: <em>Test gesteuerte Programmierung</em>. Die Programmierung einer Software wird durch Tests gesteuert. Man definiert zuerst die Tests, die an den Anforderungen anlehnend geschrieben werden und implementiert dann die Funktion, die getestet werden soll.</p><p>Persönlich nutze ich die Methodik des <a rel="noreferrer noopener" aria-label="(öffnet in neuem Tab)" href=https://martinfowler.com/articles/workflowsOfRefactoring/ target=_blank>Red-Green-Refactor</a> – die Idee ist, dass eine Person für jede Verantwortung einen Hut aufsetzt. Wenn sie die Tests schreibt, hat sie den Testing-Hut auf. Sobald die Person beginnt die Anforderung entsprechend der geschriebenen Tests zu implementieren hat sie den Programming-Hut auf und beim Refactoring nutzt sie den Refactoring-Hut. Martin Fowler nimmt in seiner Beschreibung zwei Hüte als Beispiel, ich habe drei genommen, um auf eine wichtige Idee in der Softwareentwicklung aufmerksam zu machen: das <em><a rel="noreferrer noopener" aria-label="(öffnet in neuem Tab)" href=https://en.wikipedia.org/wiki/Single_responsibility_principle target=_blank>single responsibility principle</a></em> (sinngemäß <em>das Prinzip der eindeutigen Verantwortlichkeiten</em>).</p><p>Red-Green-Refactor, versucht die Verantwortlichkeiten zu separieren: zuerst schreibt man Tests in Übereinstimmung mit den Anforderungen, dann implementiert man die Anforderungen in Übereinstimmung mit den Tests und zuletzt verbessert man den Code.</p><p>Viele stehen oft vor zwei Problemen:</p><ol><li>Was soll genau getestet werden?</li><li>Management behauptet Tests wären eine Verschwendung an Resourcen</li></ol><p><mark>Was soll genau getestet werden?</mark></p><p>Das war und ist für mich ein großes Problem. Was genau soll ich testen, wie granular sollten die Tests sein? <a rel="noreferrer noopener" aria-label="David Heinemeier Hansson (öffnet in neuem Tab)" href=https://dhh.dk/2014/tdd-is-dead-long-live-testing.html target=_blank>David Heinemeier Hansson</a> (Erfinder von Ruby, auch bekannt als DHH) findet es ebenfalls schwer Tests für etwas zu schreiben, was eigentlich noch gar nicht existiert. Es gibt eine interessante Diskussion in der <a href="https://podcasts.google.com/?feed=aHR0cHM6Ly90aG91Z2h0d29ya3MubGlic3luLmNvbS9yc3M%3D&episode=dGFnOnNvdW5kY2xvdWQsMjAxMDp0cmFja3MvMTUwMzM4Mjc3&hl=en" target=_blank rel="noreferrer noopener" aria-label="(öffnet in neuem Tab)">ThoughtWorks Podcast Series</a> und einen guten <a href=https://martinfowler.com/articles/is-tdd-dead/ target=_blank rel="noreferrer noopener" aria-label="Blog-Post von Martin Fowler (öffnet in neuem Tab)">Blog-Post von Martin Fowler</a> darüber. Schaut euch das gerne an und bildet euch eine eigene Meinung zu dem Thema.</p><p>Weil es mir auch immer sehr schwer fiel Tests für Dinge zu schreiben, die ich noch gar nicht kenne, waren meine ersten Test so allgemein geschrieben, dass ich prinzipiell das gesamte Programm hätte implementieren müssen, um diesen Test auf Grün zu bekommen. Wenn man so an das Problem herangeht, bringt TDD eigentlich auch keinen wirklich Vorteil.</p><p>Grundsätzlich muss man planerisch vorgehen, je nach Wichtigkeit und Größe des Projekts mit UML vordefinieren und im Team über die Implementierung diskutieren und dann erst umsetzen. Wenn man vorher genug Zeit für die Planung hatte, wird man leichter Tests schreiben können. Die Interfaces der Module & Services sind schon besprochen und müssen nur noch ihren Weg in den Code finden.</p><p>Kent Beck, der Author von <em><a rel="noreferrer noopener" aria-label="Test-Driven Development by Example (öffnet in neuem Tab)" href="https://www.google.com/books/edition/Test_driven_Development/CUlsAQAAQBAJ?hl=en&gbpv=1&pg=PP1&printsec=frontcover" target=_blank>Test-Driven Development by Example</a></em> beschreibt, dass man nicht einzelne Methoden testen soll, sondern Funktionsweisen. Einzelne Methoden oder Funktionen tragen oft einen schwer pflegbaren Beitrag zur Erfüllung der Anforderung bei. Aber die Anforderung selbst kann (und sollte) getestet werden und dessen Tests sind wartbar, da die Anforderung geschrieben sowie klar definiert ist.</p><p>Ian Cooper beschreibt in seinem wirklich empfehlenswerten Vortrag die Pitfalls des TDD und wie man ihnen ausweichen kann. TLDR; TDD macht Software robust und spart sehr viel Zeit im After-Release, wenn man es richtig umsetzt.</p><figure><div><iframe title="🚀 DevTernity 2017: Ian Cooper - TDD, Where Did It All Go Wrong" width=100% height=300 src="https://www.youtube.com/embed/EZ05e7EMOLM?feature=oembed" frameborder=0 allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div></div></figure><p><mark>Management behauptet Tests wären eine Verschwendung an Resourcen</mark></p><p>Ein Trugschluss, den man in allen Bereichen des <em><a rel="noreferrer noopener" aria-label="Extreme Programming (öffnet in neuem Tab)" href=https://en.wikipedia.org/wiki/Extreme_programming target=_blank>Extreme Programming</a></em> sieht. Personen, die intuitiv darüber entscheiden müssten, ob <a rel="noreferrer noopener" aria-label="Pair-Programming (öffnet in neuem Tab)" href=https://zrezai-dev.de/methodik/qualitatives-pair-programming/ target=_blank>Pair-Programming</a> genutzt werden sollte, werden sich oft dagegen entscheiden. Warum sollten zwei Personen an einer Aufgabe arbeiten? Warum soll neben dem eigentlichen Code, der die Anforderung erfüllt, auch noch weiterer Code geschrieben werden – die Anforderung ist doch schon erfüllt? Es sind doch 2 Personen Jahre eingeplant, nicht 4 (oder ähnliches). Aber wie schon in meinem <a href=https://zrezai-dev.de/methodik/qualitatives-pair-programming/>Post über Pair Programming</a> beschrieben, ist das ein Trugschluss.</p><p>Wenn Tests korrekt und ausführlich geschrieben sind, erhöht das automatisch die Wartbarkeit und Qualität des Produkts. Bei fehlerhaften Änderungen, wird der Fehler um einiges früher erkannt und in Zusammenarbeit mit Programmen wie <a rel="noreferrer noopener" aria-label="Jenkins (öffnet in neuem Tab)" href=https://jenkins.io/ target=_blank>Jenkins</a> schon direkt beim Push auf die Repository gesichtet. Es braucht keine langen Pull-Request-Reviews mehr, um zu erkennen, dass die neue Funktion oder Änderung eine vorher erfüllte Anforderung kaputt gemacht hat. Man sieht sofort, dass etwas nicht stimmt, ohne dass ein Mensch Zeit für ein Code-Review aufwenden musste.</p><p>Durch hohe Code-Qualität sollten viel weniger Bugs im Produktionscode landen – damit gibt es weniger Probleme, weniger Tickets und mehr Zeit sich auf das wesentliche zu konzentrieren.</p><blockquote><p>Ein Kunde, der sich nicht meldet, ist ein zufriedener Kunde.<br><br>‒ Mein Software Engineering Professor</p></blockquote><p>Wenn Kunden immer und immer wieder Probleme und Bugs melden müssen, frisst das natürlich auch die Zeit der Kunden. Sie müssen dann auf ein Update warten und verlieren dadurch potenziell Geld. Irgendwann werden diese Kunden sich dann für einen anderen Anbieter entscheiden, einen Anbieter, der vielleicht hohen Wert auf exzellente <em>(was auch immer das sein soll)</em> Softwarequalität legt, ein Ort an dem TDD gelebt und geliebt wird vielleicht.</p><p>Vielleicht könnt ihr diesen Ort in euren Unternehmen schaffen?</p><hr width=100% id=EOF><p style=color:#777>Zuletzt bearbeitet am 17.12.2019</p></div></div><nav class=post-pagination><a class=newer-posts href=https://zrezai-dev.de/container/docker-teil-1-eine-einfuehrung/>Nächste<br>Docker – Teil 1: Eine Einführung.</a>
<a class=older-posts href=https://zrezai-dev.de/methodik/qualitatives-pair-programming/>Vorherige<br>Pair Programming als Qualitätssicherungsmaßnahme</a></nav><div class=post-comment-wrapper></div></div></div></div></div><div id=single-column-footer>Hugo Theme <a href=https://github.com/amazingrise/hugo-theme-diary>Diary</a> von <a href=https://amazingrise.net>Rise</a> ❤️<br>Adaptiert von <a href=https://mak1t0.cc/ target=_blank rel="noreferrer noopener">Makito</a>'s <a href=https://github.com/SumiMakito/hexo-theme-journal/ target=_blank rel="noreferrer noopener">Journal.</a><br><br><div style=font-size:20px><a style=margin:2px href=https://github.com/Xcalizorz target=_blank rel="noreferrer noopener" class="fa fa-github"></a><a style=margin:2px href=https://www.linkedin.com/in/zadjad-rezai/ target=_blank rel="noreferrer noopener" class="fa fa-linkedin"></a><a style=margin:2px href=https://www.xing.com/profile/Zadjad_Rezai/ target=_blank rel="noreferrer noopener" class="fa fa-xing"></a></div>&copy;
2022 Zadjad Rezai.
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css></div></div><script src=js/cookieconsent.min.js></script><script>window.cookieconsent.initialise({"palette":{"popup":{"background":"#237afc"},"button":{"background":"transparent","text":"#fff","border":"#fff"}},"content":{"message":"Diese Website verwendet Cookies, um Ihnen eine bestmögliche Nutzung zu gewährleisten.","dismiss":"Verstanden","link":"Weitere Informationen","href":"https://zrezai-dev.de/datenschutz/"}});</script><script src=/js/journal.js></script></body></html>